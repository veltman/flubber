<svg height="100%" width="100%"  viewBox="0 0 350 400"
     xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink">
     
  <desc>
    Morphing Letter H with House image from openclipart 
    https://openclipart.org/detail/242151/house-icon-silhouette
    
    Demonstrates use of new flubber function transformPathString(path,transformation)
    which calls the svgpath transform function.
    
    For the full alphabet, see http://steamcoded.org/images/alphabet.svg
    
    Jay Nick
    8/10/17
    STEAMcoded.org
  </desc>

  <script xlink:href="../build/flubber.js">
  </script>
  
  <script><![CDATA[
    var morph = new function()
    {
      var interpolator;
      var node;
      var cnt=1;
      var max = 20;
      var idx = 0;
      var d1;
      var d2;
      var d3;
      var d4;
      var ids = Array("h","house");
      var labels = Array("House");
      var strPath;
        
      
      window.addEventListener("load", init, false);

      function init()
      {
        node = document.getElementById("p0");
        cnt = max+1;
        setTimeout(draw,1000);
      }
      
      function draw()
      {
        if(cnt>max) 
        {
          cnt=1;
          idx++;
          
          d1 = document.getElementById(ids[idx-1]).getAttribute("d");
          if(ids[idx-1]=="house") d1 = flubber.transformPathString(d1,"scale(0.13) translate(300,400)");


          if(idx>=ids.length) idx=0;
          d2 = document.getElementById(ids[idx]).getAttribute("d");
          
          switch(ids[idx])
          {
            case "house":
            {
              d2 = flubber.transformPathString(d2,"scale(0.13) translate(300,400)");
              interpolator = flubber.separate(d1,flubber.splitPathString(d2),{single: true});
              node.setAttribute("class","house");
              break;
            }
            case "h":
            {
              interpolator = flubber.combine(flubber.splitPathString(d1),d2,{single: true});
              node.removeAttribute("class");
              break;
            }
            default:
            { 
              interpolator = flubber.interpolateAll(flubber.splitPathString(d1),flubber.splitPathString(d2),{single: true});
              node.removeAttribute("class");
            }
          }
        }
        
        strPath = interpolator(cnt/max);
        node.setAttribute("d",strPath);

        if(cnt==1 && idx%2==0) document.getElementById("label").setAttribute("class","hide");
        
        cnt++
        if(cnt>max) 
        {
          if(idx%2)
          {
            var label = labels[Math.round(idx/2)-1];
            document.getElementById("letter").setAttribute("xlink:href","#"+ids[idx-1]);
            document.getElementById("word").firstChild.nodeValue = label;
            
            //Approximate length since getComputedTextLength() doesn't seem to work
            var len = (label.length+2)*18 + 29;
            var x = (175 - len/2);  
            document.getElementById("label").setAttribute("transform","translate("+x+",330)");
            
            document.getElementById("label").setAttribute("class","show");
          }
        
          setTimeout(draw,2000);
        }
        else setTimeout(draw,100);
      }
            
    }();
  ]]>
  </script>
  
  <style type="text/css"><![CDATA[
    @import url('https://fonts.googleapis.com/css?family=Roboto:500,500i');

    .house {fill:green;stroke:black;stroke-width:2px;}
    
    #letter {fill:red;stroke:navy;}
    .word {fill:navy;stroke:none;font-size:34px;font-family:Roboto, Arial, sans-serif;font-weight:500;}
    .show {display:initial;}
    .hide {display:none;}
  ]]>
  </style>
  
  <defs>
    <!-- alphabet from https://openclipart.org/detail/267404/alphabet-14 -->
    <path id="h" d="m90 29c18.32-0.71 36.68-0.21 55.03-0.32 6.28 0.07 10.4 8.15 6.79 13.4-10.01 29.96-26.21 61.73-19.1 93.59 15.77-4.23 31.36-10.63 48.27-9.33 10.06-2.94 22.58 3.57 31.53-1.73 1.97-30.1-16.58-56.89-27.59-83.78-2.39-4.84 0.72-11.37 6.24-11.6 18.46-1.09 37.04-0.59 55.54-0.34 9.49 4.44 11.02 16.26 14.51 24.95 18.46 75.53 20.27 154.17 14.68 231.41-1.98 10.71-0.9 24.39-10.52 31.54-19.75-0.44-39.55 0.63-59.25-0.66-7.06-0.59-10.29-9.09-7.46-15.01 12.45-33.47 24.11-69.02 20.55-105.15-2.36-13.39-17.97-14.38-28.82-14.25-23.32 0.93-50.5 10.27-59.01 34.12-5.57 25.65-0.23 52.45 7.63 77.12 2.91 7.22 9.38 18.73-0.38 23.18-18.41 2.46-37.4-0.65-56 0.63-11.99 2.11-12.28-12.46-13.8-20.58-6.77-72.6-4.28-146.01 4.65-218.34 3.77-16.25 2.49-38.22 16.51-48.85z"/>

    <!-- house from https://openclipart.org/detail/242151/house-icon-silhouette -->
    <path id="house" d="M659.7755,52.4093c12.3406-17.1,33.5132-26.1775,54.1462-27.6496c34.2245-0.8587,70.4118,8.3169,95.7551,32.4336
		c19.2101,17.8361,30.3973,42.9832,34.2248,68.67c3.1646,22.0559,2.9684,45.3139-5.5692,66.2167
		c-9.1756,23.6505-27.6742,42.5415-48.6995,56.1578c-13.4936,9.3228-29.2689,14.7448-42.3945,24.6074
		c-21.5898,15.6526-38.2235,39.5239-40.9716,66.4865c-2.3306,18.5721,4.1464,36.8007,12.7578,52.9438
		c-32.262-10.7703-63.199-32.9243-75.2206-65.8486c-7.1394-18.7928-4.1952-39.7692,3.7783-57.8015
		c9.47-21.7124,24.2885-40.7751,41.5109-56.8938c11.2612-11.0892,23.3317-22.5711,28.631-37.8801
		c3.7783-12.3651,2.6007-27.7968-7.3356-37.0215c-14.0578-13.42-33.881-19.3571-46.6633-34.3227
		C651.9249,89.0627,648.9315,67.3258,659.7755,52.4093z
	    M557.7151,462.2214c4.8577-25.5397,30.2746-43.0323,55.3972-43.989c68.7682-0.3435,137.5364-0.0736,206.329-0.0981
		c27.478-1.4475,55.2255,19.1118,60.7701,46.2462c4.171,26.9871-17.149,54.1705-43.8418,58.0959
		c-5.3973,0.8832-11.0893,0.1718-16.1923,2.1835c-4.8331,2.7232-4.5878,8.8566-4.9313,13.6652
		c-0.2453,23.9695-0.0491,47.9145-0.1225,71.884c113.4687-54.1215,226.8391-108.4147,340.3079-162.4872
		c15.4072-6.943,32.0409-14.5485,49.3865-11.4818c19.627,2.6742,35.8192,14.9656,52.2567,25.0245
		c207.1388,128.9004,414.2284,257.8745,621.3668,386.7503c10.329,6.2316,21.1973,12.9784,27.3062,23.8223
		c10.3777,19.5535,5.9373,45.6574-10.255,60.7702c-14.156,14.0087-36.8007,18.2777-55.0538,10.3777
		c-12.1196-5.3974-23.0127-13.0274-34.0283-20.2894C1602.6576,792.5195,1399.0515,662.147,1195.2742,532.02
		C895.5696,676.4012,595.7916,820.6352,296.0624,964.9674c-9.3963,4.4161-18.621,9.9116-29.1461,11.0157
		c-20.1667,2.7477-41.4867-7.7282-51.1529-25.7359c-10.5251-18.0079-8.2679-42.4189,5.4219-58.1697
		c9.1511-11.5554,23.7488-15.9469,36.2855-22.6937c121.6138-60.1077,243.2278-120.1909,364.8907-180.2496
		c0.2453-40.5298,0.2453-81.035,0.2208-121.5403c-0.4906-12.2178,1.2021-24.6565-1.2513-36.7026
		c-1.4474-7.1884-9.6907-7.8262-15.5789-7.9734C576.3116,521.5195,551.9743,491.343,557.7151,462.2214z
	    M495.8898,924.7811c233.1936-111.8986,466.2644-224.0915,699.3107-336.358
		c175.0729,112.0458,349.9497,224.3859,524.9001,336.6033c0,148.4783-0.0491,296.9568,0.0243,445.4351
		c-23.1598,15.4807-39.7446,39.5975-48.1595,65.9713c-20.5105-11.3346-43.3759-22.0313-67.4679-18.1794
		c-37.954,6.6486-74.4847,32.7771-85.6965,70.8044c-17.2719-11.4083-36.0891-21.8597-57.0165-24.2148
		c-26.3492-2.8705-53.0911,4.637-75.834,17.7625c-37.6101,21.2953-57.3845,70.4365-43.0812,111.5549
		c4.6858,13.371,13.6161,27.3552,28.5328,30.3973c-79.1705-0.5397-158.3165,0.0247-237.4871-0.049
		c0.0492-128.189,0-256.3778,0.0245-384.5668c-0.368-42.8851-15.1373-86.3099-44.4797-118.0566
		c-28.2629-31.0844-68.8661-50.098-110.6472-53.2874c-47.9145-4.4897-97.6691,12.7576-131.5992,47.0803
		c-33.3167,32.9243-49.5583,80.299-49.5338,126.6188c-0.147,127.4285,0,254.8323-0.0734,382.2606
		c-52.4778,0.1227-104.9801-0.1471-157.4579,0.1472c15.2108-18.1794,22.1541-42.3943,21.7123-65.873
		c0.1965-25.3188-15.4807-48.209-35.255-62.8066c-23.6994-17.198-54.5876-19.308-82.7769-15.8486
		c2.8214-22.9392,0.1473-47.6445-13.0273-67.1735c-8.317-12.9784-21.0993-22.473-34.9361-28.8763
		C495.7182,1231.0116,495.6445,1077.8962,495.8898,924.7811 M1355.4061,951.572c-25.9078,10.574-46.9086,32.3846-56.4031,58.7093
		c-6.1826,15.9961-7.7773,33.2924-7.3356,50.3187c0.0245,39.2787-0.0245,78.5573,0.0245,117.8113
		c74.2146,0.0245,148.4293,0,222.6439,0.0245c-0.0736-41.6584-0.0491-83.3168-0.0245-124.975
		c0.6868-29.1953-10.7949-58.7585-32.0167-78.9988C1449.5668,942.47,1397.3097,934.3492,1355.4061,951.572z
	    M148.1973,1368.4497c18.8421-15.2599,43.6457-20.8781,67.4433-21.4425c29.5142-0.417,60.6477,8.1698,82.2127,29.1953
		c14.8676,14.1804,22.939,34.5925,23.258,55.0046c25.9324-37.2423,76.2512-56.3785,120.1176-43.4248
		c22.4973,6.2806,41.4376,22.4485,52.8455,42.6396c16.6831,29.2444,21.5162,63.9105,19.5045,97.1293
		c10.0342-6.4032,21.2463-11.6044,33.3168-12.2668c25.2944-2.2816,52.2079,11.2855,63.0029,34.7397
		c7.5071,14.2542,12.1195,31.8939,4.5878,47.1049c-6.3054,15.7017-21.1481,28.0176-38.6898,27.2816
		c-140.4312,0.3926-280.8625,0.0491-421.2692,0.1718c-26.1285-0.5643-52.6006,1.6682-78.4347-3.1648
		c-13.0027-2.4044-25.4414-9.2247-32.6053-20.584c-11.8743-16.9037-16.1922-39.0332-11.0402-59.0773
		c9.6173-38.837,64.0332-58.7339,95.2647-32.6053c-13.1255-24.3621-17.2473-53.2137-12.8557-80.4218
		C118.6343,1405.6676,129.699,1383.1946,148.1973,1368.4497z
	    M1733.6676,1398.5527c17.64-17.5416,41.7811-29.2933,66.9528-29.1216c29.9066,0.319,60.4758,13.4935,78.4344,37.9539
		c19.5291,25.3678,21.3199,62.7572,3.533,89.5482c16.8547-11.1384,37.3895-17.9098,57.7278-14.843
		c23.2583,3.1404,43.8176,20.7311,50.2454,43.3756c7.8507,29.8823-4.1954,63.0519-26.9137,83.3413
		c-10.9911,9.9116-25.5149,16.3151-40.4562,15.7998c-143.9395-0.0492-287.8792-0.0245-431.819-0.0245
		c-24.4601-0.6869-49.2637,2.0117-73.3557-3.1895c-18.4003-3.999-37.635-14.0333-44.8232-32.4827
		c-7.8755-22.3258-3.4594-49.313,12.9781-66.7565c22.8411-22.9146,59.6417-32.3845,90.3827-21.6633
		c28.1647,10.8931,51.6188,32.0657,68.1545,57.0901c-3.7043-23.4297-3.3611-48.5278,7.1394-70.2646
		c8.1942-17.051,24.3131-29.5632,42.4927-34.4209c36.6533-12.1196,77.9435,10.4758,94.8719,43.5475
		C1691.1998,1459.8625,1707.8339,1424.4113,1733.6676,1398.5527z"/>
		

  </defs>
 
  <g style="fill:red;stroke:navy;stroke-width:2px;display:initial;">
    <path id="p0" d="m90 29c18.32-0.71 36.68-0.21 55.03-0.32 6.28 0.07 10.4 8.15 6.79 13.4-10.01 29.96-26.21 61.73-19.1 93.59 15.77-4.23 31.36-10.63 48.27-9.33 10.06-2.94 22.58 3.57 31.53-1.73 1.97-30.1-16.58-56.89-27.59-83.78-2.39-4.84 0.72-11.37 6.24-11.6 18.46-1.09 37.04-0.59 55.54-0.34 9.49 4.44 11.02 16.26 14.51 24.95 18.46 75.53 20.27 154.17 14.68 231.41-1.98 10.71-0.9 24.39-10.52 31.54-19.75-0.44-39.55 0.63-59.25-0.66-7.06-0.59-10.29-9.09-7.46-15.01 12.45-33.47 24.11-69.02 20.55-105.15-2.36-13.39-17.97-14.38-28.82-14.25-23.32 0.93-50.5 10.27-59.01 34.12-5.57 25.65-0.23 52.45 7.63 77.12 2.91 7.22 9.38 18.73-0.38 23.18-18.41 2.46-37.4-0.65-56 0.63-11.99 2.11-12.28-12.46-13.8-20.58-6.77-72.6-4.28-146.01 4.65-218.34 3.77-16.25 2.49-38.22 16.51-48.85z"/>
  </g>
  
  <g id="label" transform="translate(100,330)" class="hide">
    <use id="letter" xlink:href="#a" transform="scale(0.1)" />
    <text id="txt" x="35" y="30" class="word">- <tspan id="word">Apple</tspan></text>
  </g>
  
  <a xlink:href="http://steamcoded.org">
    <g id="credits" transform="translate(175,390) scale(0.3)" style="text-anchor:middle;fill:black;stroke:none;">
      <text x="2" y="2" style="font-size:40px;font-family:Roboto, Arial, sans-serif;font-weight:500;font-style:italic;fill:#333333;stroke:#333333;stroke-width:0.5px;">STEAM<tspan style="font-variant:small-caps;">coded.org</tspan></text>
      <text x="0" y="0" style="font-size:40px;font-family:Roboto, Arial, sans-serif;font-weight:500;font-style:italic;"><tspan style="fill:red;">S</tspan><tspan style="fill:orange;">T</tspan><tspan style="fill:lime;">E</tspan><tspan style="fill:#5555ff;">A</tspan><tspan style="fill:purple;">M</tspan><tspan style="fill:blue;font-variant:small-caps;">coded.org</tspan></text>
    </g>
  </a>    
</svg>
